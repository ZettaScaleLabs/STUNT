flow: ControlDataDump
configuration:
  host: '192.168.122.35'
operators:
  - id: TrafficLightDetection
    configuration:
      traffic_light_det_model_path: /home/ato/Workspace/models/traffic_light_detection/faster-rcnn
    descriptor: {{ BASE_DIR }}/nodes/operators/traffic-lights-detector/traffic-lights-detector.yml

  - id: TTD
    descriptor:  {{ BASE_DIR }}/nodes/operators/time-to-decision/time-to-decision.yml

sources:
  - id : Camera
    configuration:
      mode: "client"
      key_expression: "stunt/tele-camera"
    descriptor : {{ BASE_DIR }}/nodes/sources/zenoh-camera/zenoh-camera.yml

  - id : CarlaLocalization
    descriptor : {{ BASE_DIR }}/nodes/sources/ground-truth/carla-localization/carla-localization.yml

sinks:
  - id : PyPrint
    descriptor : {{ BASE_DIR }}/nodes/sinks/generic-sink-py/generic-sink.yml

links:
- from:
    node : Camera
    output : Image
  to:
    node : TrafficLightDetection
    input : Image

- from:
    node : CarlaLocalization
    output : Pose
  to:
    node : TTD
    input : Pose

- from:
    node : TTD
    output : TTD
  to:
    node : TrafficLightDetection
    input : TTD

- from:
    node : TrafficLightDetection
    output : TrafficLights
  to:
    node : PyPrint
    input : Data
